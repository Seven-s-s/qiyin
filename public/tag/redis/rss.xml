<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>七音 • Posts by &#34;redis&#34; tag</title>
        <link>https://qiyins.cn</link>
        <description>路漫漫其修远兮，吾将上下而求索</description>
        <language>zh-CN</language>
        <pubDate>Sat, 01 Aug 2020 15:32:00 +0800</pubDate>
        <lastBuildDate>Sat, 01 Aug 2020 15:32:00 +0800</lastBuildDate>
        <category>hexo</category>
        <category>算法</category>
        <category>Linux</category>
        <category>MySQL</category>
        <category>MongoDB</category>
        <category>Redis</category>
        <category>git</category>
        <category>Idea</category>
        <category>Typora</category>
        <category>Java</category>
        <category>面试题</category>
        <category>RabbitMQ</category>
        <category>设计模式</category>
        <category>Shiro</category>
        <category>SpringCloud</category>
        <item>
            <guid isPermalink="true">https://qiyins.cn/computer/course-1/redis/</guid>
            <title>Redis</title>
            <link>https://qiyins.cn/computer/course-1/redis/</link>
            <category>Redis</category>
            <pubDate>Sat, 01 Aug 2020 15:32:00 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;下载地址&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#下载地址&#34;&gt;#&lt;/a&gt; 下载地址&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdGFyY2hpdmUvcmVkaXMvdGFncw==&#34;&gt;https://github.com/microsoftarchive/redis/tags&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;基本操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作&#34;&gt;#&lt;/a&gt; 基本操作&lt;/h1&gt;
&lt;h2 id=&#34;信息添加&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#信息添加&#34;&gt;#&lt;/a&gt; 信息添加&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;设置 key，value 数据&lt;/p&gt;
&lt;p&gt;set key value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;获取值&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#获取值&#34;&gt;#&lt;/a&gt; 获取值&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;根据 key 值查找对应的 value，如果不存在，返回空（nil）;&lt;/p&gt;
&lt;p&gt;get key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;清屏&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#清屏&#34;&gt;#&lt;/a&gt; 清屏&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;clear&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;帮助信息&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#帮助信息&#34;&gt;#&lt;/a&gt; 帮助信息&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;获取帮助文档&lt;/p&gt;
&lt;p&gt;help 命令名称&lt;/p&gt;
&lt;p&gt;Help @组名&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;退出&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#退出&#34;&gt;#&lt;/a&gt; 退出&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;退出客户端&lt;/p&gt;
&lt;p&gt;quit 或者 exit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;数据类型&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#数据类型&#34;&gt;#&lt;/a&gt; &lt;strong&gt;数据类型&lt;/strong&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;String、hash、list、set、sorted_set&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;string&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#string&#34;&gt;#&lt;/a&gt; String&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-2&#34;&gt;#&lt;/a&gt; 基本操作&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;添加 / 修改数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;set key value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;get key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;del key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加 / 几个多个数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;mset key1 value1 key2 value2 …&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取多个数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;mget key1 key2 …&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取数据字符个数&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;strlen key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;追加信息到原始信息后部&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;append key value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;设置数据增加指定范围的值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Incr key                   对于整数加一操作&lt;/p&gt;
&lt;p&gt;lncrby key increment         增加指定的整数&lt;/p&gt;
&lt;p&gt;Incrybyfloat key increment     增加指定的浮点数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置数值数据减少指定范围的值&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;decr key                  对于整数减一操作&lt;/p&gt;
&lt;p&gt;decryby key increment        减少指定的整数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;设置数据具有指定的生命周期&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;setex key seconds value&lt;/p&gt;
&lt;p&gt;psetex key milliseconds value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;key 的设置约定&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;数据库中的热点数据 key 命名惯例&lt;/p&gt;
&lt;p&gt;表名：主键名：主键值：字段名&lt;/p&gt;
&lt;p&gt;eg：order🆔123:name&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;hash&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#hash&#34;&gt;#&lt;/a&gt; hash&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-3&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;添加 / 修改数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;H  set key field value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取数据&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;hget key field&lt;/p&gt;
&lt;p&gt;hgetall key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li field2=&#34;&#34;&gt;
&lt;p&gt;删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hdel key field1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加 / 修改多个数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hmset key field1 value1 field2 value2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取多个数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hmget key field1 field2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取哈希表中的字段数量&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hlen key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取哈希表中是否存在指定的字段&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hexists key field&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作-2&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取哈希表中所有的字段名或字段值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hkeys key&lt;/p&gt;
&lt;p&gt;hvals key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设置指定字段的数据增加指定范围的值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hincrby key field increment&lt;/p&gt;
&lt;p&gt;hincrbyfloat key field increment&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;list&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#list&#34;&gt;#&lt;/a&gt; &lt;strong&gt;list&lt;/strong&gt;&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-4&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;添加 / 删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lpush key value1 {valur2} …&lt;/p&gt;
&lt;p&gt;rpush key value2 {value2} …&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lrange key start stop&lt;/p&gt;
&lt;p&gt;lindex key index&lt;/p&gt;
&lt;p&gt;llen key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取并移除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lpop key&lt;/p&gt;
&lt;p&gt;rpop key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作-3&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;规定时间内获取并移除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;blpop key1 {key2} timeout&lt;/p&gt;
&lt;p&gt;brpop key1 {key2} timeout&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除指定数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;lrem key count value&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;set&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#set&#34;&gt;#&lt;/a&gt; set&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-5&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li member2=&#34;&#34;&gt;
&lt;p&gt;添加数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sadd key member1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取所有数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;smembers key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li member2=&#34;&#34;&gt;
&lt;p&gt;删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;srem key member1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取集合数据总数&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;scard key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;判断集合中是否包含指定数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sismember key member&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作-4&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作-4&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li count=&#34;&#34;&gt;
&lt;p&gt;随机获取集合指定数量的数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;srandmember key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;随机获取集合中的某个数据并将该数据移除集合&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;spop key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li key2=&#34;&#34;&gt;
&lt;p&gt;求两个集合的交、并、差集&lt;/p&gt;
&lt;blockquote&gt;
&lt;p key2=&#34;&#34;&gt;sinter key1&lt;/p&gt;
&lt;p key2=&#34;&#34;&gt;sunion key1&lt;/p&gt;
&lt;p&gt;sdiff key1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li key2=&#34;&#34;&gt;
&lt;p&gt;求两个集合的交、并、差并存储到指定集合中&lt;/p&gt;
&lt;blockquote&gt;
&lt;p key2=&#34;&#34;&gt;Sinterstore destination key1&lt;/p&gt;
&lt;p key2=&#34;&#34;&gt;sunionstore destination key1&lt;/p&gt;
&lt;p&gt;sdiffstore destination key1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将指定数据从原始集合移动到目标集合中&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;smove source destination member&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;sorted_set&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#sorted_set&#34;&gt;#&lt;/a&gt; &lt;strong&gt;sorted_set&lt;/strong&gt;&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-6&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol key…=&#34;&#34;&gt;
&lt;li score2=&#34;&#34; member2=&#34;&#34;&gt;
&lt;p&gt;添加数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;zadd key score1 member1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li WINTHSCORES=&#34;&#34;&gt;
&lt;p&gt;获取全部数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;zrange key start stop [WINTHSCORES]&lt;/p&gt;
&lt;p&gt;zrevrange key start stop&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li member=&#34;&#34; …=&#34;&#34;&gt;
&lt;p&gt;删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;zrem key member&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li WINTHSCORES=&#34;&#34;&gt;
&lt;p&gt;按条件获取数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p LIMIT=&#34;&#34;&gt;zrangebyscore key min max {WINTHSCORES}&lt;/p&gt;
&lt;p&gt;zrevrangebyscore key min max&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;条件删除数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;zremrangebyrank key start stop&lt;/p&gt;
&lt;p&gt;zremrangebyscore key min max&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取集合数量总数&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zcard key&lt;/p&gt;
&lt;p&gt;Zcount key min max&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;集合交、并操作&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zinterstore destination numkeys key {key …}    Zunionstore destination numkeys key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作-5&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作-5&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;获取数据对应的索引&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zrank key member&lt;/p&gt;
&lt;p&gt;Zrevrank key member&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Score 值获取与修改&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zscore key member&lt;/p&gt;
&lt;p&gt;Zincrby key increment member&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取当前时间&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Time&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;通用操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#通用操作&#34;&gt;#&lt;/a&gt; 通用操作&lt;/h1&gt;
&lt;h2 id=&#34;key通用操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#key通用操作&#34;&gt;#&lt;/a&gt; Key 通用操作&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-7&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-7&#34;&gt;#&lt;/a&gt; &lt;strong&gt;基本操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;删除指定 key&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;del key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取 key 是否存在&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;exists key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取 Key 的类型&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;type key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;拓展操作-6&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#拓展操作-6&#34;&gt;#&lt;/a&gt; &lt;strong&gt;拓展操作&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;为指定的 key 设置有效期&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;expire key seconds&lt;/p&gt;
&lt;p&gt;pexpire key milliseconds&lt;/p&gt;
&lt;p&gt;expireat key timestamp&lt;/p&gt;
&lt;p&gt;pexpireat key milliseconds-timestamp&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取 key 的有效时间&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ttl key&lt;/p&gt;
&lt;p&gt;pttl key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;切换 key 从时效性转化为永久性&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;persist key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查询 key&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;keys pattern&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例子&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;keys *      查询所有&lt;/p&gt;
&lt;p&gt;keys it*     查询所有以 it 开头&lt;/p&gt;
&lt;p&gt;keys *it     查询所有以 it 结尾&lt;/p&gt;
&lt;p&gt;keys ??it    查询所有前面两个为任意字符，后面以 it 结尾&lt;/p&gt;
&lt;p&gt;keys user:?   查询所有以 user: 开头，最后一个字符任意&lt;/p&gt;
&lt;p&gt;keys u [st] er:1 查询所有以 u 开头，以 er:1 结尾，中间包含一个字母，s 或 t&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;其他操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#其他操作&#34;&gt;#&lt;/a&gt; &lt;strong&gt;其他操作&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;​       为 key 改名&lt;/p&gt;
&lt;p&gt;​       rename key newkey&lt;/p&gt;
&lt;p&gt;​       renamenx key newkey&lt;/p&gt;
&lt;p&gt;​       对所有 key 排序&lt;/p&gt;
&lt;p&gt;​       sort&lt;/p&gt;
&lt;p&gt;​       其他 key 通用操作&lt;/p&gt;
&lt;p&gt;​       help @generic&lt;/p&gt;
&lt;h2 id=&#34;数据库通用操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#数据库通用操作&#34;&gt;#&lt;/a&gt; 数据库通用操作&lt;/h2&gt;
&lt;h3 id=&#34;基本操作-8&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基本操作-8&#34;&gt;#&lt;/a&gt; 基本操作&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;切换数据库&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;delect index&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其他操作&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;quit&lt;/p&gt;
&lt;p&gt;ping&lt;/p&gt;
&lt;p&gt;echo message&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;相关操作&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#相关操作&#34;&gt;#&lt;/a&gt; 相关操作&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;数据移动&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;move key db&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据清除&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dbsize&lt;/p&gt;
&lt;p&gt;flushdb&lt;/p&gt;
&lt;p&gt;flushall&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;jedis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jedis&#34;&gt;#&lt;/a&gt; &lt;strong&gt;Jedis&lt;/strong&gt;&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建连接&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Jedis jedis = new Jedis(“127.0.0.1”,6379);&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加元素&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;jedis.set(“str”,123);&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭连接&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;jedis.close();&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;持久化&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#持久化&#34;&gt;#&lt;/a&gt; &lt;strong&gt;持久化&lt;/strong&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;RDB (记录数据) AOF (记录数据产生的过程)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;rdb&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#rdb&#34;&gt;#&lt;/a&gt; RDB&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;save 立即保存，如果时间过长会阻塞客服端指令&lt;/p&gt;
&lt;p&gt;bgsave 针对 save 阻塞问题的优化&lt;/p&gt;
&lt;p&gt;save 配置&lt;/p&gt;
&lt;p&gt;save second changes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;aof&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#aof&#34;&gt;#&lt;/a&gt; AOF&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;always (每次): 零误差，性能低&lt;/p&gt;
&lt;p&gt;everysec (每秒)：准确性较高，性能较高，可能丢失一秒内的数据&lt;/p&gt;
&lt;p&gt;no (系统控制)：整体过程不可控&lt;/p&gt;
&lt;p&gt;aof 重写（手动重写，自动重写）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;事务&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事务&#34;&gt;#&lt;/a&gt; 事务&lt;/h1&gt;
&lt;h2 id=&#34;开事务&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#开事务&#34;&gt;#&lt;/a&gt; 开事务&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;multi&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li key2…=&#34;&#34;&gt;
&lt;p&gt;对 key’添加监视锁，在执行 exec 前如果 key 发生了变化，终止事务执行&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;watch key1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;取消对所有 key 的监视&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;unwatch&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;分布式锁&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#分布式锁&#34;&gt;#&lt;/a&gt; 分布式锁&lt;/h2&gt;
&lt;p&gt;使用 setnx 设置一个公共锁&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;setnx lock-key value&lt;/p&gt;
&lt;p&gt;有值返回设置失败，无值返回设置成功&lt;/p&gt;
&lt;p&gt;对于返回设置成功的，拥有控制权，进行下一步的业务操作&lt;/p&gt;
&lt;p&gt;对于返回设置失败的，不具有控制权，排队或等待&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;释放锁&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;del lock-key&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;解决死锁&lt;/p&gt;
&lt;p&gt;分布式锁改良&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 expire 为锁 key 添加时间限定，到时不释放，放弃锁&lt;/p&gt;
&lt;p&gt;expire lock-name second&lt;/p&gt;
&lt;p&gt;pexpire lock-name milliseconds&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;删除策略&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#删除策略&#34;&gt;#&lt;/a&gt; 删除策略&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;定时删除&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;优点：节约内存，到时就删除，快速释放不必要的内存占用&lt;/p&gt;
&lt;p&gt;缺点：cpu 压力大，无论 cpu 次数负载量多高，均占用 cpu&lt;/p&gt;
&lt;p&gt;拿 cpu 换内存&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;惰性删除&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;优点：节约 cpu 性能，发现必须删除的时候才删除&lt;/p&gt;
&lt;p&gt;缺点：内存压力大，出行长期占用内存的数据&lt;/p&gt;
&lt;p&gt;用存储空间换 cpu 性能&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;定期删除&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Cpu 性能占用设置有峰值，检测频度可自定义设置&lt;/p&gt;
&lt;p&gt;内存压力不是很大，长期占用内存的类数据会被持续清理&lt;/p&gt;
&lt;p&gt;周期性抽查存储空间（随机抽查，重点抽查）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;​    逐出算法&lt;/p&gt;
&lt;h1 id=&#34;高级数据类型&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#高级数据类型&#34;&gt;#&lt;/a&gt; 高级数据类型&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Bitmaps&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HyperLogLog&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GEO&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;redis集群&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#redis集群&#34;&gt;#&lt;/a&gt; Redis 集群&lt;/h1&gt;
 ]]></description>
        </item>
    </channel>
</rss>
