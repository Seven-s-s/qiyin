{
    "version": "https://jsonfeed.org/version/1",
    "title": "七音 • All posts by \"mysql\" tag",
    "description": "路漫漫其修远兮，吾将上下而求索",
    "home_page_url": "https://qiyins.cn",
    "items": [
        {
            "id": "https://qiyins.cn/computer/mysql/",
            "url": "https://qiyins.cn/computer/mysql/",
            "title": "MySQL",
            "date_published": "2020-10-31T16:00:00.000Z",
            "content_html": "<h1 id=\"创建数据表\"><a class=\"anchor\" href=\"#创建数据表\">#</a> 创建数据表</h1>\n<h2 id=\"通用命令\"><a class=\"anchor\" href=\"#通用命令\">#</a> 通用命令</h2>\n<blockquote>\n<p><strong>CREATE TABLE table_name (column_name column_type);</strong></p>\n</blockquote>\n<h2 id=\"例子\"><a class=\"anchor\" href=\"#例子\">#</a> 例子</h2>\n<blockquote>\n<p>创建一个 user 表，字段为 id,name,date</p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span> <span class=\"token punctuation\">`</span><span class=\"token keyword\">user</span><span class=\"token punctuation\">`</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span> <span class=\"token keyword\">int</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">`</span>name<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">`</span><span class=\"token keyword\">date</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">date</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">`</span>id<span class=\"token punctuation\">`</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">)</span><span class=\"token keyword\">engine</span><span class=\"token operator\">=</span><span class=\"token keyword\">InnoDB</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">charset</span> <span class=\"token operator\">=</span> utf8<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p><strong>字段可为空设置为 null，不能为空 not null</strong></p>\n<p><strong>AUTO_INCREMENT：设置为自增，一般用于主键</strong></p>\n<p><strong>PRIMARY KEY：用于定义列为主键</strong></p>\n<p><strong>ENGINE 设置存储引擎，CHARSET 设置编码</strong></p>\n</blockquote>\n<h1 id=\"单表操作\"><a class=\"anchor\" href=\"#单表操作\">#</a> 单表操作</h1>\n<h2 id=\"查询语句\"><a class=\"anchor\" href=\"#查询语句\">#</a> 查询语句</h2>\n<blockquote>\n<p><strong>select * from  table_name</strong></p>\n</blockquote>\n<h2 id=\"插入语句\"><a class=\"anchor\" href=\"#插入语句\">#</a> 插入语句</h2>\n<h3 id=\"插入所有字段的数据\"><a class=\"anchor\" href=\"#插入所有字段的数据\">#</a> 插入所有字段的数据</h3>\n<blockquote>\n<p><strong>insert into table_name values()</strong></p>\n</blockquote>\n<h3 id=\"插入某些字段的数据\"><a class=\"anchor\" href=\"#插入某些字段的数据\">#</a> 插入某些字段的数据</h3>\n<blockquote>\n<p><strong>insert into table_name(field1,field2) values(value1,value2)</strong></p>\n</blockquote>\n<h2 id=\"更新语句\"><a class=\"anchor\" href=\"#更新语句\">#</a> 更新语句</h2>\n<blockquote>\n<p><strong>update table_name set field = value [,field1=value1]...</strong></p>\n</blockquote>\n<h2 id=\"条件语句\"><a class=\"anchor\" href=\"#条件语句\">#</a> 条件语句</h2>\n<h3 id=\"限制字段\"><a class=\"anchor\" href=\"#限制字段\">#</a> 限制字段</h3>\n<blockquote>\n<p><strong>where field = value</strong></p>\n</blockquote>\n<h3 id=\"限制条数\"><a class=\"anchor\" href=\"#限制条数\">#</a> 限制条数</h3>\n<blockquote>\n<p><strong>limit m,n</strong></p>\n<p><strong>m\t从第几条数据开始</strong></p>\n<p><strong>n\t限制条数</strong></p>\n</blockquote>\n<h3 id=\"升序排序\"><a class=\"anchor\" href=\"#升序排序\">#</a> 升序排序</h3>\n<blockquote>\n<p><strong>order by field</strong></p>\n</blockquote>\n<h3 id=\"降序排序\"><a class=\"anchor\" href=\"#降序排序\">#</a> 降序排序</h3>\n<blockquote>\n<p><strong>order by field desc</strong></p>\n</blockquote>\n<h3 id=\"查询条数\"><a class=\"anchor\" href=\"#查询条数\">#</a> 查询条数</h3>\n<blockquote>\n<p><strong>select count(*)</strong></p>\n</blockquote>\n<h3 id=\"分组查询\"><a class=\"anchor\" href=\"#分组查询\">#</a> 分组查询</h3>\n<blockquote>\n<p><strong>group by field</strong></p>\n</blockquote>\n<h2 id=\"模糊查询\"><a class=\"anchor\" href=\"#模糊查询\">#</a> 模糊查询</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> table_name <span class=\"token keyword\">WHERE</span> field <span class=\"token operator\">LIKE</span> <span class=\"token string\">'%value'</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>%：匹配零个或多个</p>\n<p>% value，匹配以 value 结尾的所有值</p>\n<p>value%，匹配以 value 开头的所有值</p>\n</blockquote>\n<h2 id=\"union查询\"><a class=\"anchor\" href=\"#union查询\">#</a> UNION 查询</h2>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> table_name1</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">union</span> <span class=\"token keyword\">select</span> <span class=\"token keyword\">from</span> table_name2</pre></td></tr></table></figure><h2 id=\"case查询\"><a class=\"anchor\" href=\"#case查询\">#</a> CASE 查询</h2>\n<h3 id=\"用法\"><a class=\"anchor\" href=\"#用法\">#</a> 用法</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">CASE</span> case_value</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">WHEN</span> when_value <span class=\"token keyword\">THEN</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t\tstatement_list</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">ELSE</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\tstatement_list</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">END</span> name<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h3 id=\"例子-2\"><a class=\"anchor\" href=\"#例子-2\">#</a> 例子</h3>\n<ol>\n<li>\n<p>建表 sex</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">id</th>\n<th style=\"text-align:center\">sex</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>执行语句</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">CASE</span> sex</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">WHEN</span> <span class=\"token number\">0</span> <span class=\"token keyword\">THEN</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\t<span class=\"token string\">'男'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">THEN</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token string\">'女'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token keyword\">ELSE</span> <span class=\"token string\">''</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">END</span> sex</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">FROM</span> sex</pre></td></tr></table></figure></li>\n<li>\n<p>结果</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">id</th>\n<th style=\"text-align:center\">sex</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">男</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">女</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">男</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n<h2 id=\"排序查询\"><a class=\"anchor\" href=\"#排序查询\">#</a> 排序查询</h2>\n<blockquote>\n<p>使用 order by 语句进行排序，其中升序用 asc，降序用 desc，默认是升序。</p>\n</blockquote>\n<h3 id=\"例子-3\"><a class=\"anchor\" href=\"#例子-3\">#</a> 例子</h3>\n<h3 id=\"建表\"><a class=\"anchor\" href=\"#建表\">#</a> 建表</h3>\n<blockquote>\n<p><strong>student(id,name)</strong></p>\n</blockquote>\n<h3 id=\"查询学生表中姓名-学号并以学号降序排序\"><a class=\"anchor\" href=\"#查询学生表中姓名-学号并以学号降序排序\">#</a> 查询学生表中姓名、学号，并以学号降序排序</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span>name <span class=\"token keyword\">from</span> student <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> id <span class=\"token keyword\">desc</span></pre></td></tr></table></figure><h3 id=\"查询学生表中前5名学生的姓名学号并以学号升序排列\"><a class=\"anchor\" href=\"#查询学生表中前5名学生的姓名学号并以学号升序排列\">#</a> 查询学生表中前 5 名学生的姓名，学号，并以学号升序排列</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">select</span> <span class=\"token keyword\">top</span> <span class=\"token number\">5</span> name<span class=\"token punctuation\">,</span>id <span class=\"token keyword\">from</span> student <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> id</pre></td></tr></table></figure><h1 id=\"多表操作\"><a class=\"anchor\" href=\"#多表操作\">#</a> 多表操作</h1>\n<h2 id=\"显示连接\"><a class=\"anchor\" href=\"#显示连接\">#</a> 显示连接</h2>\n<h3 id=\"内连接\"><a class=\"anchor\" href=\"#内连接\">#</a> 内连接</h3>\n<p><strong>只查询在连接的表中能够有对应的记录</strong></p>\n<blockquote>\n<p><strong>select * from table_name1 as A inner join table_name2 as B on <span class=\"exturl\" data-url=\"aHR0cDovL0EuaWQ=\">A.id</span> = <span class=\"exturl\" data-url=\"aHR0cDovL0IuaWQ=\">B.id</span></strong></p>\n<p><strong>as：将表设置为一个别名，也可不写</strong></p>\n</blockquote>\n<h3 id=\"外连接\"><a class=\"anchor\" href=\"#外连接\">#</a> 外连接</h3>\n<h4 id=\"左连接\"><a class=\"anchor\" href=\"#左连接\">#</a> 左连接</h4>\n<p><strong>table_name1，也就是基准表，用基准表的数据去匹配右表的数据，所以左表的记录是全部会查询出来的，如果右表没有记录对应的话就显示 null</strong></p>\n<blockquote>\n<p><strong>select * from table_name1 as A left join table_name2 as B on <span class=\"exturl\" data-url=\"aHR0cDovL0EuaWQ=\">A.id</span> = <span class=\"exturl\" data-url=\"aHR0cDovL0IuaWQ=\">B.id</span></strong></p>\n</blockquote>\n<h4 id=\"右连接\"><a class=\"anchor\" href=\"#右连接\">#</a> 右连接</h4>\n<p><strong>只是把 left 修改成了 right，但是基准表变化了，是以右表的数据去匹配左表，所以左外连接能做到的查询，右外连接也能做到</strong></p>\n<blockquote>\n<p><strong>select * from table_name1 as A right join table_name2 as B on <span class=\"exturl\" data-url=\"aHR0cDovL0EuaWQ=\">A.id</span> = <span class=\"exturl\" data-url=\"aHR0cDovL0IuaWQ=\">B.id</span></strong></p>\n</blockquote>\n<h3 id=\"例子-4\"><a class=\"anchor\" href=\"#例子-4\">#</a> 例子</h3>\n<h4 id=\"建表-2\"><a class=\"anchor\" href=\"#建表-2\">#</a> 建表</h4>\n<p><strong>user 表</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">uid</th>\n<th style=\"text-align:center\">uname</th>\n<th style=\"text-align:center\">iid</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">张三</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">李四</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">王五</td>\n<td style=\"text-align:center\">3</td>\n</tr>\n</tbody>\n</table>\n<p><strong>info 表</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">iid</th>\n<th style=\"text-align:center\">info</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">张三的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">李四的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">某某的信息</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"内连接-2\"><a class=\"anchor\" href=\"#内连接-2\">#</a> 内连接</h4>\n<p><strong>执行语句</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>uname<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">.</span>info <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">inner</span> <span class=\"token keyword\">JOIN</span> info B</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>iid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>iid</pre></td></tr></table></figure><p><strong>结果</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">uid</th>\n<th style=\"text-align:center\">uname</th>\n<th style=\"text-align:center\">info</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">张三</td>\n<td style=\"text-align:center\">张三的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">李四</td>\n<td style=\"text-align:center\">李四的信息</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"左外连接\"><a class=\"anchor\" href=\"#左外连接\">#</a> 左外连接</h4>\n<p><strong>执行语句</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>uid<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>uname<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">.</span>info <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> info B</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>iid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>iid</pre></td></tr></table></figure><p><strong>结果</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">uid</th>\n<th style=\"text-align:center\">uname</th>\n<th style=\"text-align:center\">info</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">张三</td>\n<td style=\"text-align:center\">张三的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">李四</td>\n<td style=\"text-align:center\">李四的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">王五</td>\n<td style=\"text-align:center\">null</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"右外连接\"><a class=\"anchor\" href=\"#右外连接\">#</a> 右外连接</h4>\n<p><strong>执行语句</strong></p>\n<pre><code class=\"language-mysql\">SELECT A.uid,A.uname,B.info FROM user A\nRIGHT JOIN info B\nON A.iid = B.iid\n</code></pre>\n<p><strong>结果</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">uid</th>\n<th style=\"text-align:center\">uname</th>\n<th style=\"text-align:center\">info</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">张三</td>\n<td style=\"text-align:center\">张三的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">李四</td>\n<td style=\"text-align:center\">李四的信息</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">null</td>\n<td style=\"text-align:center\">某某的信息</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"隐式内连接\"><a class=\"anchor\" href=\"#隐式内连接\">#</a> 隐式内连接</h2>\n<blockquote>\n<p><strong>select * from table_name1,table_name2 where table_name1.id = table_name2.id</strong></p>\n</blockquote>\n<h1 id=\"函数\"><a class=\"anchor\" href=\"#函数\">#</a> 函数</h1>\n<h2 id=\"字符串函数\"><a class=\"anchor\" href=\"#字符串函数\">#</a> 字符串函数</h2>\n<h3 id=\"concat\"><a class=\"anchor\" href=\"#concat\">#</a> CONCAT</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>合并多个字符串</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>CONCAT</strong>(s1,s2...sn)</p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<blockquote>\n<p><strong>在 user 表中搜索名字为 zhangsan 的数据</strong></p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">=</span>  CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">\"zhang\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"san\"</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"concat_ws\"><a class=\"anchor\" href=\"#concat_ws\">#</a> CONCAT_WS</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>合并多个字符串，并添加分隔符</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>CONCAT_WS(x, s1,s2...sn)</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<blockquote>\n<p><strong>查询 user 表中用户生日为 2020-11-5</strong></p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">WHERE</span> birth<span class=\"token operator\">=</span> CONCAT_WS<span class=\"token punctuation\">(</span><span class=\"token string\">\"-\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">2020</span><span class=\"token punctuation\">,</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"数字函数\"><a class=\"anchor\" href=\"#数字函数\">#</a> 数字函数</h2>\n<h2 id=\"日期函数\"><a class=\"anchor\" href=\"#日期函数\">#</a> 日期函数</h2>\n<h3 id=\"adddate\"><a class=\"anchor\" href=\"#adddate\">#</a> ADDDATE</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>计算起始日期 d 加上 n 天的日期</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>ADDDATE(d,n)</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<blockquote>\n<p><strong>查询未过期的商品 (creatTime：生产时间，time：保质期)</strong></p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> goods <span class=\"token keyword\">WHERE</span> ADDDATE<span class=\"token punctuation\">(</span>createTime<span class=\"token punctuation\">,</span> <span class=\"token keyword\">INTERVAL</span> <span class=\"token keyword\">time</span> <span class=\"token keyword\">DAY</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token function\">NOW</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"addtime\"><a class=\"anchor\" href=\"#addtime\">#</a> ADDTIME</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>n 是一个时间表达式，时间 t 加上时间表达式 n</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>ADDTIME(t,n)</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<p>加 5 秒</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> ADDTIME<span class=\"token punctuation\">(</span><span class=\"token string\">'2020-11-11 11:11:11'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>2020-11-11 11:11:16 (秒)</p>\n</blockquote>\n<p>添加 2 小时，10 分钟，5 秒</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> ADDTIME<span class=\"token punctuation\">(</span><span class=\"token string\">\"2020-11-11 09:34:21\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2:10:5\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><blockquote>\n<p>2020-11-11 11:44:26</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"now\"><a class=\"anchor\" href=\"#now\">#</a> NOW</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>返回当前日期和时间</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p>NOW()</p>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"高级函数\"><a class=\"anchor\" href=\"#高级函数\">#</a> 高级函数</h2>\n<h3 id=\"ifnull\"><a class=\"anchor\" href=\"#ifnull\">#</a> IFNULL</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>如果 v1 的值不为 NULL，则返回 v1，否则返回 v2</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>IFNULL(v1,v2)</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<p><strong>查询 user 表中年龄，如果为 null，则输出 0</strong></p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> IFNULL<span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"isnull\"><a class=\"anchor\" href=\"#isnull\">#</a> ISNULL</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>判断表达式是否为 NULL</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>ISNULL(expression)</strong></p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"group_concat\"><a class=\"anchor\" href=\"#group_concat\">#</a> GROUP_CONCAT</h3>\n<ol>\n<li>\n<p><strong>概念</strong></p>\n<blockquote>\n<p><strong>返回带有来自一个组的连接的非 NULL 值的字符串结果</strong></p>\n<p><strong>就是会计算哪些行属于同一组，将属于同一组的列显示出来</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>用法</strong></p>\n<blockquote>\n<p><strong>GROUP_CONCAT()</strong></p>\n</blockquote>\n</li>\n<li>\n<p><strong>例子</strong></p>\n<blockquote>\n<p>student(sid,sname,tid),teacher(tid,tname)</p>\n<p>每一行 tid 对应所有的 sname (默认是用，分隔)</p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> t<span class=\"token punctuation\">.</span>tname<span class=\"token punctuation\">,</span>GROUP_CONCAT<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span>sid<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> student s</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> teacher t</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">on</span> s<span class=\"token punctuation\">.</span>tid <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>tid</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> t<span class=\"token punctuation\">.</span>tid</pre></td></tr></table></figure></li>\n</ol>\n<h1 id=\"例子-5\"><a class=\"anchor\" href=\"#例子-5\">#</a> 例子</h1>\n<h2 id=\"准备数据\"><a class=\"anchor\" href=\"#准备数据\">#</a> 准备数据</h2>\n<blockquote>\n<ol>\n<li>\n<p>学生表</p>\n<p>Student(sid,sname,sage,ssex)</p>\n<p>sid：学生编号，sname：学生姓名，sage：学生年龄，ssex：学生性别</p>\n</li>\n<li>\n<p>课程表</p>\n<p>Course(cid,cname,tid)</p>\n<p>cid：课程编号，cname：课程名称，tid：教师编号</p>\n</li>\n<li>\n<p>教师表</p>\n<p>Teacher(tid,tname)</p>\n<p>tid：教师编号，tname：教师姓名</p>\n</li>\n<li>\n<p>成绩表</p>\n<p>SC(sid,cid,score)</p>\n<p>sid：学生编号，cid：课程编号，score：分数</p>\n</li>\n</ol>\n</blockquote>\n<p>创建测试数据</p>\n<p>学生表 Student</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> Student<span class=\"token punctuation\">(</span>sid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>sname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>sage <span class=\"token keyword\">datetime</span><span class=\"token punctuation\">,</span>ssex <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'张三'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1990-01-01 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'男'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'李四'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1990-12-21 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'男'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'王五'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1990-05-20 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'男'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'04'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'赵六'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1990-08-06 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'男'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'05'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'李七'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1991-12-01 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'女'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'06'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'吴八'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1992-03-01 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'女'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'07'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'孙九'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1989-07-01 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'女'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'08'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'邓十'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'1990-01-20 00:00:00.0000'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'女'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>课程表 Course</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> Course<span class=\"token punctuation\">(</span>cid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>cname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>tid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Course <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'语文'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Course <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'数学'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Course <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'英语'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>教师表 Teacher</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> Teacher<span class=\"token punctuation\">(</span>tid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>tname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Teacher <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'张三'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Teacher <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'李四'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> Teacher <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'王五'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>成绩表 SC</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> SC<span class=\"token punctuation\">(</span>sid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>cid <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>score <span class=\"token keyword\">decimal</span><span class=\"token punctuation\">(</span><span class=\"token number\">18</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'04'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'04'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'04'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'05'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">76</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'05'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'06'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'01'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'06'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">34</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'07'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'02'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">89</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> SC <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'07'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'03'</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">98</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><h2 id=\"例子-6\"><a class=\"anchor\" href=\"#例子-6\">#</a> 例子</h2>\n<h3 id=\"查询-01-课程比-02-课程成绩高的学生的信息及课程分数\"><a class=\"anchor\" href=\"#查询-01-课程比-02-课程成绩高的学生的信息及课程分数\">#</a> 查询 &quot;01&quot; 课程比 &quot;02&quot; 课程成绩高的学生的信息及课程分数</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> S<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>score score_01<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">.</span>score score_02 <span class=\"token keyword\">FROM</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'01'</span><span class=\"token punctuation\">)</span> A</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">)</span> B</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>sid</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> Student S</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> S<span class=\"token punctuation\">.</span>sid<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">WHERE</span> A<span class=\"token punctuation\">.</span>score <span class=\"token operator\">></span> B<span class=\"token punctuation\">.</span>score</pre></td></tr></table></figure><h3 id=\"查询同时存在-01-课程和-02-课程的情况\"><a class=\"anchor\" href=\"#查询同时存在-01-课程和-02-课程的情况\">#</a> 查询同时存在 &quot;01&quot; 课程和 &quot;02&quot; 课程的情况</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'01'</span><span class=\"token punctuation\">)</span> A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">)</span> B</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>sid</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">WHERE</span> B<span class=\"token punctuation\">.</span>cid <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span></pre></td></tr></table></figure><h3 id=\"询存在-01-课程但可能不存在-02-课程的情况不存在时显示为null\"><a class=\"anchor\" href=\"#询存在-01-课程但可能不存在-02-课程的情况不存在时显示为null\">#</a> 询存在 &quot;01&quot; 课程但可能不存在 &quot;02&quot; 课程的情况 (不存在时显示为 null)</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'01'</span><span class=\"token punctuation\">)</span> A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'02'</span><span class=\"token punctuation\">)</span> B</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>sid</pre></td></tr></table></figure><h3 id=\"查询不存在-01-课程但存在-02-课程的情况\"><a class=\"anchor\" href=\"#查询不存在-01-课程但存在-02-课程的情况\">#</a> 查询不存在 &quot;01&quot; 课程但存在 &quot;02&quot; 课程的情况</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'02'</span> <span class=\"token operator\">and</span> sid <span class=\"token operator\">NOT</span> <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> sid <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token string\">'01'</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"查询平均成绩大于等于-60-分的同学的学生编号和学生姓名和平均成绩\"><a class=\"anchor\" href=\"#查询平均成绩大于等于-60-分的同学的学生编号和学生姓名和平均成绩\">#</a> 查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> A<span class=\"token punctuation\">.</span>sid<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">.</span>sname<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>score <span class=\"token keyword\">FROM</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> sid<span class=\"token punctuation\">,</span><span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">)</span> score <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> sid<span class=\"token punctuation\">)</span> A</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> Student B</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>sid</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token keyword\">WHERE</span> A<span class=\"token punctuation\">.</span>score <span class=\"token operator\">></span> <span class=\"token number\">60</span></pre></td></tr></table></figure><h3 id=\"查询在-sc-表在成绩的学生信息\"><a class=\"anchor\" href=\"#查询在-sc-表在成绩的学生信息\">#</a> 查询在 SC 表在成绩的学生信息</h3>\n<blockquote>\n<p><strong>DISTINCT：去重</strong></p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> student <span class=\"token keyword\">WHERE</span> sid <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> sid <span class=\"token keyword\">FROM</span> SC<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"查询所有同学学生编号-学生姓名-选课总数-所有课程的总成绩没成绩的显示为null\"><a class=\"anchor\" href=\"#查询所有同学学生编号-学生姓名-选课总数-所有课程的总成绩没成绩的显示为null\">#</a> 查询所有同学学生编号、学生姓名、选课总数、所有课程的总成绩 (没成绩的显示为 null)</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> B<span class=\"token punctuation\">.</span>sid<span class=\"token punctuation\">,</span>B<span class=\"token punctuation\">.</span>sname<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">,</span>A<span class=\"token punctuation\">.</span>total_score <span class=\"token keyword\">FROM</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> sid<span class=\"token punctuation\">,</span><span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">)</span> count<span class=\"token punctuation\">,</span><span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">)</span> total_score <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> sid<span class=\"token punctuation\">)</span> A</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">RIGHT</span> <span class=\"token keyword\">JOIN</span> student B</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>sid</pre></td></tr></table></figure><h3 id=\"查询李姓老师的数量\"><a class=\"anchor\" href=\"#查询李姓老师的数量\">#</a> 查询「李」姓老师的数量</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> count <span class=\"token keyword\">FROM</span> teacher <span class=\"token keyword\">WHERE</span> tname <span class=\"token operator\">like</span> <span class=\"token string\">\"李%\"</span></pre></td></tr></table></figure><h3 id=\"查询学过张三老师授课的同学的信息\"><a class=\"anchor\" href=\"#查询学过张三老师授课的同学的信息\">#</a> 查询学过「张三」老师授课的同学的信息</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> D<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> teacher A</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> course B</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">ON</span> A<span class=\"token punctuation\">.</span>tid <span class=\"token operator\">=</span> B<span class=\"token punctuation\">.</span>tid</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> SC C</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">ON</span> B<span class=\"token punctuation\">.</span>cid <span class=\"token operator\">=</span> C<span class=\"token punctuation\">.</span>cid</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> student D</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">on</span> C<span class=\"token punctuation\">.</span>sid <span class=\"token operator\">=</span> D<span class=\"token punctuation\">.</span>sid</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">WHERE</span> A<span class=\"token punctuation\">.</span>tname <span class=\"token operator\">=</span> <span class=\"token string\">'张三'</span></pre></td></tr></table></figure><blockquote>\n<p>或者</p>\n</blockquote>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> student</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">WHERE</span> sid <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> sid <span class=\"token keyword\">FROM</span> SC</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">WHERE</span> cid <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> cid <span class=\"token keyword\">FROM</span> course</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">WHERE</span> tid <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> tid <span class=\"token keyword\">FROM</span> teacher <span class=\"token keyword\">WHERE</span> tname <span class=\"token operator\">=</span> <span class=\"token string\">\"张三\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"查询没有学全所有课程的同学的信息\"><a class=\"anchor\" href=\"#查询没有学全所有课程的同学的信息\">#</a> 查询没有学全所有课程的同学的信息</h3>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> student <span class=\"token keyword\">WHERE</span> sid <span class=\"token operator\">in</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">SELECT</span> sid <span class=\"token keyword\">FROM</span> SC <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> sid <span class=\"token keyword\">HAVING</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span>cid<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> course<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h3 id=\"待更新\"><a class=\"anchor\" href=\"#待更新\">#</a> 待更新...</h3>\n",
            "tags": [
                "MySQL"
            ]
        }
    ]
}